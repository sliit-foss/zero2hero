---
sidebar_position: 1
---
# Firebase Storage
Cloud Storage for Firebase allows you to quickly and easily upload files to a [Cloud Storage](https://cloud.google.com/storage) bucket provided and managed by Firebase.

## Create a Reference

In order to upload or download files, delete files, or get or update metadata, you must create a reference to the file you want to operate on. A reference can be thought of as a pointer to a file in the cloud.

example:

```
import { getStorage, ref } from "firebase/storage";

// Get a reference to the storage service, which is used to create references in your storage bucket
const storage = getStorage();

// Create a storage reference from our storage service
const storageRef = ref(storage);
```

create a reference to a location lower in the tree, say `'images/space.jpg'` by using the `child()` method on an existing reference.

```
import { getStorage, ref } from "firebase/storage";

const storage = getStorage();

// Create a child reference
const imagesRef = ref(storage, 'images');
// imagesRef now points to 'images'

// Child references can also take paths delimited by '/'
const spaceRef = ref(storage, 'images/space.jpg');
// spaceRef now points to "images/space.jpg"
// imagesRef still points to "images"
```

## Upload Files

To upload a file to Cloud Storage, you first create a reference to the full path of the file, including the file name.

```
import { getStorage, ref } from "firebase/storage";

// Create a root reference
const storage = getStorage();

// Create a reference to 'mountains.jpg'
const mountainsRef = ref(storage, 'mountains.jpg');

// Create a reference to 'images/mountains.jpg'
const mountainImagesRef = ref(storage, 'images/mountains.jpg');

// While the file names are the same, the references point to different files
mountainsRef.name === mountainImagesRef.name;           // true
mountainsRef.fullPath === mountainImagesRef.fullPath;   // false 
```

Once you've created an appropriate reference, you then call the `put()` method. `put()` takes files via the JavaScript [File](https://developer.mozilla.org/en-US/docs/Web/API/File) and [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob) APIs and uploads them to Cloud Storage.

```
import { getStorage, ref, uploadBytes } from "firebase/storage";

const storage = getStorage();
const storageRef = ref(storage, 'some-child');

// 'file' comes from the Blob or File API
uploadBytes(storageRef, file).then((snapshot) => {
  console.log('Uploaded a blob or file!');
});
```

# Cloud Functions for Firebase

Cloud Functions for Firebase is a serverless framework that lets you automatically run backend code in response to events triggered by Firebase features and HTTPS requests.

The functions you write can respond to events generated by various Firebase and Google Cloud features, from [Firebase Authentication triggers](https://firebase.google.com/docs/functions/auth-events) to [Cloud Storage Triggers](https://firebase.google.com/docs/functions/gcp-storage-events).

Integrate across Firebase features ussing the [Admin SDK](https://firebase.google.com/docs/admin/setup) together with Cloud Functions, and integrate with third-party services by writing your own webhooks. Cloud Functions minimizes boilerplate code, making it easier to use Firebase and Google Cloud inside your function.

## How does it work?

After you write and deploy a function, Google's servers begin to manage the function immediately. You can fire the function directly with an HTTP request, or, in the case of background functions, Google's servers will listen for events and run the function when it is triggered.

As the load increases or decreases, Google responds by rapidly scaling the number of virtual server instances needed to run your function. Each function runs in isolation, in its own environment with its own configuration.


## Get Start with firebase

### Add Firebase to your Android project

#### Prerequisites

Install or update Android Studio to its latest version.

Make sure that your project meets these requirements:

Targets API level 16 (Jelly Bean) or higher
Uses Android 4.1 or higher
Uses Jetpack (AndroidX), which includes meeting these version requirements:
com.android.tools.build:gradle v3.2.1 or later
compileSdkVersion 28 or later
Set up a physical device or use an emulator to run your app.
Note that Firebase SDKs with a dependency on Google Play services require the device or emulator to have Google Play services installed.

Sign into Firebase using your Google account.

If you don't already have an Android project and just want to try out a Firebase product, you can download one of our quickstart samples.


You can connect your Android app to Firebase using one of the following options:

Option 1: (recommended) Use the Firebase console setup workflow.
Option 2: Use the Android Studio Firebase Assistant (may require additional configuration).

### Option 1: Add Firebase using the Firebase console

Adding Firebase to your app involves tasks both in the Firebase console and in your open Android project (for example, you download Firebase config files from the console, then move them into your Android project).

#### Step 1: Create a Firebase project
Before you can add Firebase to your Android app, you need to create a Firebase project to connect to your Android app. Visit Understand Firebase Projects to learn more about Firebase projects.

Create a Firebase project

#### Step 2: Register your app with Firebase
To use Firebase in your Android app, you need to register your app with your Firebase project. Registering your app is often called "adding" your app to your project.

Note: Visit Understand Firebase Projects to learn more about best practices and considerations for adding apps to a Firebase project, including how to handle multiple build variants.
Go to the Firebase console.

In the center of the project overview page, click the Android icon (plat_android) or Add app to launch the setup workflow.

Enter your app's package name in the Android package name field.

What's a package name, and where do you find it?

Make sure to enter the package name that your app is actually using. The package name value is case-sensitive, and it cannot be changed for this Firebase Android app after it's registered with your Firebase project.
(Optional) Enter other app information: App nickname and Debug signing certificate SHA-1.

How are the App nickname and the Debug signing certificate SHA-1 used within Firebase?

Click Register app.

#### Step 3: Add a Firebase configuration file
Add the Firebase Android configuration file to your app:

Click Download google-services.json to obtain your Firebase Android config file (google-services.json).

Move your config file into the module (app-level) directory of your app.

What do you need to know about this config file?

To enable Firebase products in your app, add the google-services plugin to your Gradle files.

In your root-level (project-level) Gradle file (build.gradle), add rules to include the Google Services Gradle plugin. Check that you have Google's Maven repository, as well.

```dart
buildscript {

  repositories {
    // Check that you have the following line (if not, add it):
    google()  // Google's Maven repository
  }

  dependencies {
    // ...

    // Add the following line:
    classpath 'com.google.gms:google-services:4.3.10'  // Google Services plugin
  }
}

allprojects {
  // ...

  repositories {
    // Check that you have the following line (if not, add it):
    google()  // Google's Maven repository
    // ...
  }
}
```
In your module (app-level) Gradle file (usually app/build.gradle), apply the Google Services Gradle plugin:

```
apply plugin: 'com.android.application'
// Add the following line:
apply plugin: 'com.google.gms.google-services'  // Google Services plugin

android {
  // ...
}
```
#### Step 4: Add Firebase SDKs to your app
Using the Firebase Android BoM, declare the dependencies for the Firebase products that you want to use in your app. Declare them in your module (app-level) Gradle file (usually app/build.gradle).

Analytics enabled

Java

```java
dependencies {
  // ...

  // Import the Firebase BoM
  implementation platform('com.google.firebase:firebase-bom:28.4.2')

  // When using the BoM, you don't specify versions in Firebase library dependencies

  // Declare the dependency for the Firebase SDK for Google Analytics
  implementation 'com.google.firebase:firebase-analytics'

  // Declare the dependencies for any other desired Firebase products
  // For example, declare the dependencies for Firebase Authentication and Cloud Firestore
  implementation 'com.google.firebase:firebase-auth'
  implementation 'com.google.firebase:firebase-firestore'
}
```
By using the Firebase Android BoM, your app will always use compatible versions of the Firebase Android libraries.

Sync your app to ensure that all dependencies have the necessary versions.

 Getting a build failure about invoke-custom support and enabling desugaring? Here's how to fix it.

That's it! You can skip ahead to check out the recommended next steps.


If you're having trouble getting set up, though, visit the Android troubleshooting & FAQ.


### Add Firebase to your Apple project 

#### Prerequisites

Install the following:

Xcode 12.2 or later
CocoaPods 1.10.0 or later
Make sure that your project meets these requirements:

Your project must target these platform versions or later:
iOS 10
macOS 10.12
tvOS 12
watchOS 6
Set up a physical Apple device or use a simulator to run your app.

Do you want to use Cloud Messaging?

Sign into Firebase using your Google account.
If you don't already have an Xcode project and just want to try out a Firebase product, you can download one of our quickstart samples.

#### Step 1: Create a Firebase project
Before you can add Firebase to your Apple app, you need to create a Firebase project to connect to your app. Visit Understand Firebase Projects to learn more about Firebase projects.

Create a Firebase project

#### Step 2: Register your app with Firebase
After you have a Firebase project, you can add your Apple app to it.

Visit Understand Firebase Projects to learn more about best practices and considerations for adding apps to a Firebase project, including how to handle multiple build variants.

Go to the Firebase console.

In the center of the project overview page, click the iOS+ icon to launch the setup workflow.

If you've already added an app to your Firebase project, click Add app to display the platform options.

Enter your app's bundle ID in the bundle ID field.

What's a bundle ID, and where do you find it?

Make sure to enter the bundle ID that your app is actually using. The bundle ID value is case-sensitive, and it cannot be changed for this Firebase Apple app after it's registered with your Firebase project.
(Optional) Enter other app information: App nickname and App Store ID.

How are the App nickname and the App Store ID used within Firebase?

Click Register app.

#### Step 3: Add a Firebase configuration file
Click Download GoogleService-Info.plist to obtain your Firebase Apple platforms config file (GoogleService-Info.plist).

What do you need to know about this config file?

Move your config file into the root of your Xcode project. If prompted, select to add the config file to all targets.

If you have multiple bundle IDs in your project, you must associate each bundle ID with a registered app in the Firebase console so that each app can have its own GoogleService-Info.plist file.

#### Step 4: Add Firebase SDKs to your app
We recommend using CocoaPods to install the Firebase libraries. However, if you'd rather not use CocoaPods, you can integrate the SDK frameworks directly or use Swift Package Manager instead.

Are you using one of the quickstart samples? The Xcode project and Podfile (with pods) are already present, but you'll still need to add your Firebase configuration file and install the pods.

Create a Podfile if you don't already have one:

```java
cd your-project-directory

pod init
```
To your Podfile, add the Firebase pods that you want to use in your app.

You can add any of the supported Firebase products to your Apple app.

Analytics enabled
Analytics not enabled

```java
platform :ios, ‘10.0’

# Add the Firebase pod for Google Analytics
pod 'Firebase/Analytics'

# For Analytics without IDFA collection capability, use this pod instead
# pod ‘Firebase/AnalyticsWithoutAdIdSupport’

# Add the pods for any other Firebase products you want to use in your app
# For example, to use Firebase Authentication and Cloud Firestore
pod 'Firebase/Auth'
pod 'Firebase/Firestore'

```
Learn more about IDFA, the device-level advertising identifier, in Apple's User Privacy and Data Use and App Tracking Transparency documentation.

Binary Firebase dependencies are integrated as static frameworks by default. If you're using Firebase as a dependency of a dynamic framework, make sure you read the documentation about using Firebase from a framework or a library.
Install the pods, then open your .xcworkspace file to see the project in Xcode:

```java
$ pod install

$ open your-project.xcworkspace
```
#### Step 5: Initialize Firebase in your app
The final step is to add initialization code to your application. You may have already done this as part of adding Firebase to your app. If you're using a quickstart sample project, this has been done for you.

Import the Firebase module in your UIApplicationDelegate:
Swift
```java
import Firebase
```


Configure a FirebaseApp shared instance, typically in your app's application:didFinishLaunchingWithOptions: method:
Swift

```java
// Use Firebase library to configure APIs
FirebaseApp.configure()
```
If you've included Firebase Analytics, you can run your app to send verification to the Firebase console that you've successfully installed Firebase.
That's it! You can skip ahead to the next steps.

If you're having trouble getting set up, though, visit the Apple platforms troubleshooting & FAQ.


### Add Firebase to your JavaScript/Web project

#### Prerequisites

Follow this guide to use the Firebase JavaScript SDK in your web app or as a client for end-user access, for example, in a Node.js desktop or IoT application.

#### Step 1: Create a Firebase project and register your app
Before you can add Firebase to your JavaScript app, you need to create a Firebase project and register your app with that project. When you register your app with Firebase, you'll get a Firebase configuration object that you'll use to connect your app with your Firebase project resources.

Visit Understand Firebase Projects to learn more about Firebase projects and best practices for adding apps to projects.

 Create a Firebase project 
 Register your app 
If you don't already have a JavaScript project and just want to try out a Firebase product, you can download one of our quickstart samples.

#### Step 2: Install the SDK and initialize Firebase
This page describes setup instructions for version 9 of the Firebase JS SDK, which uses a JavaScript Module format.

This workflow uses npm and requires module bundlers or JavaScript framework tooling because the v9 SDK is optimized to work with module bundlers to eliminate unused code (tree-shaking) and decrease SDK size.

Install Firebase using npm:

```java
npm install firebase
```
Initialize Firebase in your app and create a Firebase App object:

```java
import { initializeApp } from 'firebase/app';

// TODO: Replace the following with your app's Firebase project configuration
const firebaseConfig = {
  //...
};

const app = initializeApp(firebaseConfig);

```
A Firebase App is a container-like object that stores common configuration and shares authentication across Firebase services. After you initialize a Firebase App object in your code, you can add and start using Firebase services.

#### Step 3: Access Firebase in your app
Firebase services (like Cloud Firestore, Authentication, Realtime Database, Remote Config, and more) are available to import within individual sub-packages.

The example below shows how you could use the Cloud Firestore Lite SDK to retrieve a list of data.
```java

import { initializeApp } from 'firebase/app';
import { getFirestore, collection, getDocs } from 'firebase/firestore/lite';
// Follow this pattern to import other Firebase services
// import { } from 'firebase/<service>';

// TODO: Replace the following with your app's Firebase project configuration
const firebaseConfig = {
  //...
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Get a list of cities from your database
async function getCities(db) {
  const citiesCol = collection(db, 'cities');
  const citySnapshot = await getDocs(citiesCol);
  const cityList = citySnapshot.docs.map(doc => doc.data());
  return cityList;
}
```

#### Step 4: Use a module bundler (webpack/Rollup) for size reduction

The Firebase Web SDK is designed to work with module bundlers to remove any unused code (tree-shaking). We strongly recommend using this approach for production apps. Tools such as the Angular CLI, Next.js, Vue CLI, or Create React App automatically handle module bundling for libraries installed through npm and imported into your codebase.

See our guide Using module bundlers with Firebase for more information.

####Available Firebase services for web
Now that you're setup to use Firebase, you can start adding and using any of the following available Firebase services in your web app.

